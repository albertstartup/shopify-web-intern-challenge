(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{284:function(e,t,a){e.exports=a(633)},289:function(e,t,a){},293:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},294:function(e,t,a){},315:function(e,t){},317:function(e,t){},349:function(e,t){},350:function(e,t){},419:function(e,t){},633:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(63),o=a.n(i),s=(a(289),a(53)),c=a.n(s),l=a(112),u=a(263),m=a(264),f=a(274),d=a(265),g=a(275),h=a(84),p=(a(293),a(294),a(266)),v=a.n(p),y=(a(514),a(47)),k=a.n(y),S=a(640),w=a(641),b=a(175);window._=k.a;var x=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={items:[],searchInput:"",favItems:[],itemsToDisplay:[],faves:[]},window.findme=Object(h.a)(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onChangeSearch",value:function(e){""===e.target.value&&this.setState({itemsToDisplay:[]}),this.setState({searchInput:e.target.value}),console.log()}},{key:"getItems",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000",{json:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({faves:JSON.parse(localStorage.getItem("faves"))||[]});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitSearch",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a,n=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("seach submited"),e.next=3,this.getItems();case 3:t=e.sent,this.setState({items:t}),console.log(t),a=k.a.filter(t,function(e){var t=e.keywords,a=e.title;if(-1!==t.indexOf(n.state.searchInput)||-1!==a.indexOf(n.state.searchInput))return!0}),this.setState({itemsToDisplay:a});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDecodedString",value:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}},{key:"onClickStar",value:function(e){var t=k.a.union(this.state.faves,[e]);this.setState({faves:t}),localStorage.setItem("faves",JSON.stringify(t))}},{key:"onClickFavStar",value:function(e){var t=k.a.without(this.state.faves,e);this.setState({faves:t}),localStorage.setItem("faves",JSON.stringify(t))}},{key:"getStarColor",value:function(e){return k.a.includes(this.state.faves,e)?"green":"grey"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"6rem",marginTop:"1rem",marginBottom:"1rem",backgroundImage:"linear-gradient(to right, rgb(0, 89, 151), rgb(0, 153, 88)"}},r.a.createElement("h2",{style:{color:"white"}},"Toronto Waste Lookup")),r.a.createElement("form",{onChange:function(t){e.onChangeSearch(t)},style:{display:"flex",paddingLeft:"1rem",paddingRight:"1rem"}},r.a.createElement(S.a,{style:{flex:"2"},type:"text"}),r.a.createElement(w.a,{style:{marginLeft:"1rem",backgroundColor:"#009c55"},onClick:function(t){t.preventDefault(),e.onSubmitSearch()},type:"submit",icon:!0},r.a.createElement(b.a,{style:{color:"white"},name:"search"}))),k.a.map(this.state.itemsToDisplay,function(t){return r.a.createElement("div",{key:t.title,style:{display:"flex",paddingLeft:"1rem",paddingRight:"1rem"}},r.a.createElement("div",{style:{flex:1,padding:"1rem"}},r.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},r.a.createElement(b.a,{onClick:function(){e.onClickStar(t)},color:e.getStarColor(t),size:"small",name:"star"}),t.title)),r.a.createElement("div",{style:{flex:1,padding:"1rem"},dangerouslySetInnerHTML:{__html:e.getDecodedString(t.body)}}))}),this.state.faves&&0!==this.state.faves.length&&r.a.createElement("h3",{style:{paddingLeft:"1rem",paddingRight:"1rem",backgroundColor:"#f5fefa",margin:"0rem",marginTop:"3rem",paddingTop:"1rem",color:"#009c55"}},"Favourites"),k.a.map(this.state.faves,function(t){return r.a.createElement("div",{key:t.title,style:{display:"flex",backgroundColor:"#f5fefa"}},r.a.createElement("div",{style:{flex:1,padding:"1rem"}},r.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},r.a.createElement(b.a,{onClick:function(){e.onClickFavStar(t)},color:"green",size:"small",name:"star"}),t.title)),r.a.createElement("div",{style:{flex:1,padding:"1rem"},dangerouslySetInnerHTML:{__html:e.getDecodedString(t.body)}}))}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[284,2,1]]]);
//# sourceMappingURL=main.40e4922e.chunk.js.map